<?php

/* @autogenerated */
declare(strict_types=1);

namespace Civi\Lughauth\Shared\Value\Validation;

use Civi\Lughauth\Shared\Exception\ConstraintException;

/**
 * @api
 */
trait HasContraintFailList
{
    private ?ConstraintFailList $fails = null;

    public function hasErrors(): bool
    {
        return null == $this->fails ? false : $this->fails->hasErrors();
    }
    public function isEmpty(): bool
    {
        return null == $this->fails ? true : $this->fails->isEmpty();
    }
    public function asConstraintException(): ConstraintException
    {
        return $this->failList()->asConstraintException();
    }
    public function add(ConstraintFailList|ConstraintFail $error)
    {
        return $this->failList()->add($error);
    }
    public function includeViolation(string $type): bool
    {
        return null == $this->fails ? false : $this->fails->includeViolation($type);
    }
    public function includeViolationCode(int $code): bool
    {
        return null == $this->fails ? false : $this->fails->includeViolationCode($code);
    }

    private function failList(): ConstraintFailList
    {
        if (null == $this->fails) {
            $this->fails = new ConstraintFailList();
        }
        return $this->fails;
    }
}
