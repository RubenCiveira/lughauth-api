<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\SecurityAttribute\Domain;

use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeUidAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeUidVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeTrustedClientAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeTrustedClientVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeRelyingPartyAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeRelyingPartyVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeResourceAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeResourceVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeAttributeAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeAttributeVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeEnabledAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeEnabledVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeReadVisibilityAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeReadVisibilityVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeWriteVisibilityAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeWriteVisibilityVO;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\Holder\SecurityAttributeVersionAttributeHolder;
use Civi\Lughauth\Features\Access\SecurityAttribute\Domain\ValueObject\SecurityAttributeVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class SecurityAttributeAttributes
{
    use SecurityAttributeUidAttributeHolder;
    use SecurityAttributeTrustedClientAttributeHolder;
    use SecurityAttributeRelyingPartyAttributeHolder;
    use SecurityAttributeResourceAttributeHolder;
    use SecurityAttributeAttributeAttributeHolder;
    use SecurityAttributeEnabledAttributeHolder;
    use SecurityAttributeReadVisibilityAttributeHolder;
    use SecurityAttributeWriteVisibilityAttributeHolder;
    use SecurityAttributeVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'trustedClient' => 'unsetTrustedClient',
      'relyingParty' => 'unsetRelyingParty',
      'resource' => 'unsetResource',
      'attribute' => 'unsetAttribute',
      'enabled' => 'unsetEnabled',
      'readVisibility' => 'unsetReadVisibility',
      'writeVisibility' => 'unsetWriteVisibility',
      'version' => 'unsetVersion',
    ];

    public function build(): SecurityAttribute
    {
        $errors = new ConstraintFailList();
        $uid = SecurityAttributeUidVO::tryFrom($this->uid, $errors);
        $trustedClient = SecurityAttributeTrustedClientVO::tryFrom($this->trustedClient, $errors);
        $relyingParty = SecurityAttributeRelyingPartyVO::tryFrom($this->relyingParty, $errors);
        $resource = SecurityAttributeResourceVO::tryFrom($this->resource, $errors);
        $attribute = SecurityAttributeAttributeVO::tryFrom($this->attribute, $errors);
        $enabled = SecurityAttributeEnabledVO::tryFrom($this->enabled, $errors);
        $readVisibility = SecurityAttributeReadVisibilityVO::tryFrom($this->readVisibility, $errors);
        $writeVisibility = SecurityAttributeWriteVisibilityVO::tryFrom($this->writeVisibility, $errors);
        $version = SecurityAttributeVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new SecurityAttribute(
            uid: $uid,
            trustedClient: $trustedClient,
            relyingParty: $relyingParty,
            resource: $resource,
            attribute: $attribute,
            enabled: $enabled,
            readVisibility: $readVisibility,
            writeVisibility: $writeVisibility,
            version: $version,
        );
    }
    public function withAssertedRules(): SecurityAttributeAttributes
    {
        $value = new SecurityAttributeAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedTrustedClientRules($value, $errorsList);
        $this->withAssertedRelyingPartyRules($value, $errorsList);
        $this->withAssertedResourceRules($value, $errorsList);
        $this->withAssertedAttributeRules($value, $errorsList);
        $this->withAssertedEnabledRules($value, $errorsList);
        $this->withAssertedReadVisibilityRules($value, $errorsList);
        $this->withAssertedWriteVisibilityRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withDefaults(): SecurityAttributeAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultTrustedClient();
        $this->withDefaultRelyingParty();
        $this->withDefaultResource();
        $this->withDefaultAttribute();
        $this->withDefaultEnabled();
        $this->withDefaultReadVisibility();
        $this->withDefaultWriteVisibility();
        $this->withDefaultVersion();
        return $this;
    }
}
