<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\RelyingParty\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\RelyingParty\Domain\ValueObject\RelyingPartySchemasVO;

trait RelyingPartySchemasAttributeHolder
{
    protected RelyingPartySchemasVO|string|null $schemas = null;
    protected bool $schemasAssigned = false;

    public function getSchemasOrDefault(?RelyingPartySchemasVO $schemas): ?RelyingPartySchemasVO
    {
        return $this->schemasAssigned ? ($this->schemas !== null ? RelyingPartySchemasVO::from($this->schemas) : null) : $schemas;
    }
    public function schemas(RelyingPartySchemasVO|string|null $schemas): static
    {
        $this->schemas = $schemas;
        $this->schemasAssigned = true;
        return $this;
    }
    public function getSchemas(): ?string
    {
        return is_a($this->schemas, RelyingPartySchemasVO::class) ? $this->schemas->value() : $this->schemas;
    }
    public function unsetSchemas(): static
    {
        $this->schemas = null;
        $this->schemasAssigned = false;
        return $this;
    }
    protected function withDefaultSchemas(): void
    {
    }
    protected function withAssertedSchemasRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->schemasAssigned = $this->schemasAssigned) {
            $value->schemas = RelyingPartySchemasVO::tryFrom($this->schemas, $errorsList);
        }
    }
}
