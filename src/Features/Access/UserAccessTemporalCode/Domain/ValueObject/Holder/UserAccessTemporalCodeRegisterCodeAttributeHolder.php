<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\UserAccessTemporalCode\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\UserAccessTemporalCode\Domain\ValueObject\UserAccessTemporalCodeRegisterCodeVO;

trait UserAccessTemporalCodeRegisterCodeAttributeHolder
{
    protected UserAccessTemporalCodeRegisterCodeVO|string|null $registerCode = null;
    protected bool $registerCodeAssigned = false;

    public function getRegisterCodeOrDefault(?UserAccessTemporalCodeRegisterCodeVO $registerCode): UserAccessTemporalCodeRegisterCodeVO|string|null
    {
        return $this->registerCodeAssigned ? ($this->registerCode !== null ? UserAccessTemporalCodeRegisterCodeVO::from($this->registerCode) : null) : $registerCode;
    }
    public function registerCode(UserAccessTemporalCodeRegisterCodeVO|string|null $registerCode): static
    {
        $this->registerCode = $registerCode;
        $this->registerCodeAssigned = true;
        return $this;
    }
    public function getRegisterCode(): ?string
    {
        return is_a($this->registerCode, UserAccessTemporalCodeRegisterCodeVO::class) ? $this->registerCode->value() : $this->registerCode;
    }
    public function unsetRegisterCode(): static
    {
        $this->registerCode = null;
        $this->registerCodeAssigned = false;
        return $this;
    }
    protected function withDefaultRegisterCode(): void
    {
    }
    protected function withAssertedRegisterCodeRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->registerCodeAssigned = $this->registerCodeAssigned) {
            $value->registerCode = UserAccessTemporalCodeRegisterCodeVO::tryFrom($this->registerCode, $errorsList);
        }
    }
}
