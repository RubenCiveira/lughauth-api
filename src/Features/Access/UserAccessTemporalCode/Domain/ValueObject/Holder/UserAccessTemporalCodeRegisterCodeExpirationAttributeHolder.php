<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\UserAccessTemporalCode\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\UserAccessTemporalCode\Domain\ValueObject\UserAccessTemporalCodeRegisterCodeExpirationVO;

trait UserAccessTemporalCodeRegisterCodeExpirationAttributeHolder
{
    protected UserAccessTemporalCodeRegisterCodeExpirationVO|\DateTimeImmutable|null $registerCodeExpiration = null;
    protected bool $registerCodeExpirationAssigned = false;

    public function getRegisterCodeExpirationOrDefault(?UserAccessTemporalCodeRegisterCodeExpirationVO $registerCodeExpiration): ?UserAccessTemporalCodeRegisterCodeExpirationVO
    {
        return $this->registerCodeExpirationAssigned ? ($this->registerCodeExpiration !== null ? UserAccessTemporalCodeRegisterCodeExpirationVO::from($this->registerCodeExpiration) : null) : $registerCodeExpiration;
    }
    public function registerCodeExpiration(UserAccessTemporalCodeRegisterCodeExpirationVO|\DateTimeImmutable|null $registerCodeExpiration): static
    {
        $this->registerCodeExpiration = $registerCodeExpiration;
        $this->registerCodeExpirationAssigned = true;
        return $this;
    }
    public function getRegisterCodeExpiration(): ?\DateTimeImmutable
    {
        return is_a($this->registerCodeExpiration, UserAccessTemporalCodeRegisterCodeExpirationVO::class) ? $this->registerCodeExpiration->value() : $this->registerCodeExpiration;
    }
    public function unsetRegisterCodeExpiration(): static
    {
        $this->registerCodeExpiration = null;
        $this->registerCodeExpirationAssigned = false;
        return $this;
    }
    protected function withDefaultRegisterCodeExpiration(): void
    {
    }
    protected function withAssertedRegisterCodeExpirationRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->registerCodeExpirationAssigned = $this->registerCodeExpirationAssigned) {
            $value->registerCodeExpiration = UserAccessTemporalCodeRegisterCodeExpirationVO::tryFrom($this->registerCodeExpiration, $errorsList);
        }
    }
}
