<?php

/* @autogenerated */
return function (string $theme, string $title, string $innerContent, string $locale): string {
    return <<<HTML
            <!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>{$title}</title>
                <link rel="icon" type="image/png" href="{$theme}/style/favicon.png">
                <link rel="stylesheet" href="{$theme}/style/corporate.css">
            </head>
            <body>
                <div class="background-image">
                    <picture>
                        <!-- WebP format for modern browsers -->
                        <source 
                            media="(max-width: 480px)" 
                            srcset="{$theme}/style/office_480x800.webp" 
                            type="image/webp">
                        <source 
                            media="(max-width: 768px)" 
                            srcset="{$theme}/style/office_768x1024.webp" 
                            type="image/webp">
                        <source 
                            media="(max-width: 1024px)" 
                            srcset="{$theme}/style/office_1024x768.webp" 
                            type="image/webp">
                        <source 
                            media="(max-width: 1440px)" 
                            srcset="{$theme}/style/office_1440x900.webp" 
                            type="image/webp">
                        <source 
                            media="(min-width: 1441px)" 
                            srcset="{$theme}/style/office_1920x1080.webp" 
                            type="image/webp">

                        <!-- Fallback JPEG images -->
                        <source 
                            media="(max-width: 480px)" 
                            srcset="{$theme}/style/office_480x800.jpeg">
                        <source 
                            media="(max-width: 768px)" 
                            srcset="{$theme}/style/office_768x1024.jpeg">
                        <source 
                            media="(max-width: 1024px)" 
                            srcset="{$theme}/style/office_1024x768.jpeg">
                        <source 
                            media="(max-width: 1440px)" 
                            srcset="{$theme}/style/office_1440x900.jpeg">
                        
                        <!-- Default fallback -->
                        <img 
                            src="{$theme}/style/office_1920x1080.jpeg" 
                            alt="Corporate office background" 
                            class="bg-img"
                            loading="lazy">
                    </picture>

                    <div class="background-overlay"></div>
                </div>
                <div class="main-container">
                    <div class="content-wrapper">
                        <!-- Header con logo -->
                        <div class="header">
                            <img src="{$theme}/style/logo.png" alt="Company Logo" class="company-logo" />
                        </div>
                        
                        <!-- Contenido principal -->
                        <div class="main-content">
                            <!-- Panel izquierdo con imagen corporativa -->
                            <div class="image-panel">
                                <div class="corporate-image">
                                    <img src="{$theme}/style/identity.png" 
                                        alt="Corporate illustration" class="main-illustration" />
                                </div>
                                <div class="image-content">
                                    <h1>Stay connected and productive</h1>
                                    <p>Access your workspace from anywhere with secure, enterprise-grade authentication.</p>
                                </div>
                            </div>
                            
                            <!-- Panel derecho con formulario -->
                            <div class="form-panel">
                                <div class="form-container">
                                    <!--
                                    <div class="form-header">
                                        <h2>Sign in</h2>
                                        <p>to continue to your organization</p>
                                    </div>
                                    -->
                                    
                                    <div class="form-content">
                                        <div class="loading"></div>
                                        <div class="in-form">
                                            {$innerContent}
                                        </div>
                                    </div>
                                    <!--
                                    <div class="form-footer">
                                        <div class="help-links">
                                            <a href="#" class="help-link">Can't access your account?</a>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Footer -->
                    <!--
                    <div class="page-footer">
                        <div class="footer-links">
                            <a href="#">Privacy & cookies</a>
                            <a href="#">Terms of use</a>
                            <a href="#">Support</a>
                        </div>
                    </div>
                    -->
                </div>

                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const formContent = document.querySelector('.form-content');
                        const loadingIndicator = document.querySelector('.loading');
                        
                        formContent.classList.add('slide-in');
                        
                        setTimeout(function() {
                            const forms = formContent.querySelectorAll('form');
                            forms.forEach(form => {
                                function handleFormSubmit(event) {
                                    event.preventDefault();
                                    formContent.classList.add('slide-out');
                                    loadingIndicator.style.display = 'block';
                                    
                                    setTimeout(function() {
                                        form.removeEventListener('submit', handleFormSubmit);
                                        form.submit();
                                    }, 500);
                                }
                                
                                const existingSubmitListener = form.onsubmit;
                                if (existingSubmitListener) {
                                    form.addEventListener('submit', function(event) {
                                        existingSubmitListener.call(form, event);
                                        handleFormSubmit(event);
                                    });
                                } else {
                                    form.addEventListener('submit', handleFormSubmit);
                                }
                            });
                        }, 10);
                    });
                </script>
            </body>
            </html>


        HTML;
};
