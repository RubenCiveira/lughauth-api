<?php

/* @autogenerated */
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Oidc\DelegateLogin\Domain\Gateway;

use Psr\Container\ContainerInterface;
use Civi\Lughauth\Features\Access\Oidc\Authentication\Domain\AuthenticationRequest;
use Civi\Lughauth\Features\Access\Oidc\Authentication\Domain\AuthenticationResult;
use Civi\Lughauth\Features\Access\Oidc\DelegateLogin\Domain\DelegatedLoginProvider;
use Civi\Lughauth\Features\Access\Oidc\DelegateLogin\Domain\DelegatedUserData;
use Civi\Lughauth\Features\Access\Oidc\DelegateLogin\Infrastructure\Driven\DelegateLoginAdapter;

class DelegateLoginGateway
{
    private readonly DelegateLoginRepository $repository;
    public function __construct(ContainerInterface $container, ?DelegateLoginRepository $repository = null)
    {
        $this->repository = $repository ?? $container->get(DelegateLoginAdapter::class);
    }
    public function save(string $tenant, AuthenticationRequest $client, DelegatedUserData $user, string $providerId): AuthenticationResult
    {
        return $this->repository->save($tenant, $client, $user, $providerId);
    }
    public function providers(string $tenant): array
    {
        return $this->repository->providers($tenant);
    }
    public function getProvider(string $tenant, string $id): DelegatedLoginProvider
    {
        return $this->repository->getProvider($tenant, $id);
    }
}
