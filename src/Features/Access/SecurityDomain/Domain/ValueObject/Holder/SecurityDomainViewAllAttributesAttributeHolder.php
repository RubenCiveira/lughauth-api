<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\SecurityDomainViewAllAttributesVO;

trait SecurityDomainViewAllAttributesAttributeHolder
{
    protected SecurityDomainViewAllAttributesVO|bool|null $viewAllAttributes = null;
    protected bool $viewAllAttributesAssigned = false;

    public function getViewAllAttributesOrDefault(?SecurityDomainViewAllAttributesVO $viewAllAttributes): ?SecurityDomainViewAllAttributesVO
    {
        return $this->viewAllAttributesAssigned ? ($this->viewAllAttributes !== null ? SecurityDomainViewAllAttributesVO::from($this->viewAllAttributes) : null) : $viewAllAttributes;
    }
    public function viewAllAttributes(SecurityDomainViewAllAttributesVO|bool|null $viewAllAttributes): static
    {
        $this->viewAllAttributes = $viewAllAttributes;
        $this->viewAllAttributesAssigned = true;
        return $this;
    }
    public function getViewAllAttributes(): ?bool
    {
        return is_a($this->viewAllAttributes, SecurityDomainViewAllAttributesVO::class) ? $this->viewAllAttributes->value() : $this->viewAllAttributes;
    }
    public function unsetViewAllAttributes(): static
    {
        $this->viewAllAttributes = null;
        $this->viewAllAttributesAssigned = false;
        return $this;
    }
    protected function withDefaultViewAllAttributes(): void
    {
        if ($this->viewAllAttributes === null) {
            $this->viewAllAttributes = false;
        }
    }
    protected function withAssertedViewAllAttributesRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->viewAllAttributesAssigned = $this->viewAllAttributesAssigned) {
            $value->viewAllAttributes = SecurityDomainViewAllAttributesVO::tryFrom($this->viewAllAttributes, $errorsList);
        }
    }
}
