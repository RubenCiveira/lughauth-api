<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\SecurityDomainWriteAllVO;

trait SecurityDomainWriteAllAttributeHolder
{
    protected SecurityDomainWriteAllVO|bool|null $writeAll = null;
    protected bool $writeAllAssigned = false;

    public function getWriteAllOrDefault(?SecurityDomainWriteAllVO $writeAll): SecurityDomainWriteAllVO|bool|null
    {
        return $this->writeAllAssigned ? ($this->writeAll !== null ? SecurityDomainWriteAllVO::from($this->writeAll) : null) : $writeAll;
    }
    public function writeAll(SecurityDomainWriteAllVO|bool|null $writeAll): static
    {
        $this->writeAll = $writeAll;
        $this->writeAllAssigned = true;
        return $this;
    }
    public function getWriteAll(): ?bool
    {
        return is_a($this->writeAll, SecurityDomainWriteAllVO::class) ? $this->writeAll->value() : $this->writeAll;
    }
    public function unsetWriteAll(): static
    {
        $this->writeAll = null;
        $this->writeAllAssigned = false;
        return $this;
    }
    protected function withDefaultWriteAll(): void
    {
        if ($this->writeAll === null) {
            $this->writeAll = false;
        }
    }
    protected function withAssertedWriteAllRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->writeAllAssigned = $this->writeAllAssigned) {
            $value->writeAll = SecurityDomainWriteAllVO::tryFrom($this->writeAll, $errorsList);
        }
    }
}
