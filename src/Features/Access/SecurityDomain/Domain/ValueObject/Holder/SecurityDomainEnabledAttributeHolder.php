<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\SecurityDomain\Domain\ValueObject\SecurityDomainEnabledVO;

trait SecurityDomainEnabledAttributeHolder
{
    protected SecurityDomainEnabledVO|bool|null $enabled = null;
    protected bool $enabledAssigned = false;

    public function getEnabledOrDefault(?SecurityDomainEnabledVO $enabled): SecurityDomainEnabledVO|bool|null
    {
        return $this->enabledAssigned ? ($this->enabled !== null ? SecurityDomainEnabledVO::from($this->enabled) : null) : $enabled;
    }
    public function enabled(SecurityDomainEnabledVO|bool|null $enabled): static
    {
        $this->enabled = $enabled;
        $this->enabledAssigned = true;
        return $this;
    }
    public function getEnabled(): ?bool
    {
        return is_a($this->enabled, SecurityDomainEnabledVO::class) ? $this->enabled->value() : $this->enabled;
    }
    public function unsetEnabled(): static
    {
        $this->enabled = null;
        $this->enabledAssigned = false;
        return $this;
    }
    protected function withDefaultEnabled(): void
    {
        if ($this->enabled === null) {
            $this->enabled = false;
        }
    }
    protected function withAssertedEnabledRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->enabledAssigned = $this->enabledAssigned) {
            $value->enabled = SecurityDomainEnabledVO::tryFrom($this->enabled, $errorsList);
        }
    }
}
