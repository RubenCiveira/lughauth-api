<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantConfig\Domain;

use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder\TenantConfigUidAttributeHolder;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigUidVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder\TenantConfigTenantAttributeHolder;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigTenantVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder\TenantConfigInnerLabelAttributeHolder;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigInnerLabelVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder\TenantConfigForceMfaAttributeHolder;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigForceMfaVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder\TenantConfigVersionAttributeHolder;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class TenantConfigAttributes
{
    use TenantConfigUidAttributeHolder;
    use TenantConfigTenantAttributeHolder;
    use TenantConfigInnerLabelAttributeHolder;
    use TenantConfigForceMfaAttributeHolder;
    use TenantConfigVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'tenant' => 'unsetTenant',
      'innerLabel' => 'unsetInnerLabel',
      'forceMfa' => 'unsetForceMfa',
      'version' => 'unsetVersion',
    ];

    public function build(): TenantConfig
    {
        $errors = new ConstraintFailList();
        $uid = TenantConfigUidVO::tryFrom($this->uid, $errors);
        $tenant = TenantConfigTenantVO::tryFrom($this->tenant, $errors);
        $innerLabel = TenantConfigInnerLabelVO::tryFrom($this->innerLabel, $errors);
        $forceMfa = TenantConfigForceMfaVO::tryFrom($this->forceMfa, $errors);
        $version = TenantConfigVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new TenantConfig(
            uid: $uid,
            tenant: $tenant,
            innerLabel: $innerLabel,
            forceMfa: $forceMfa,
            version: $version,
        );
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withAssertedRules(): TenantConfigAttributes
    {
        $value = new TenantConfigAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedTenantRules($value, $errorsList);
        $this->withAssertedInnerLabelRules($value, $errorsList);
        $this->withAssertedForceMfaRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function withDefaults(): TenantConfigAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultTenant();
        $this->withDefaultInnerLabel();
        $this->withDefaultForceMfa();
        $this->withDefaultVersion();
        return $this;
    }
}
