<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigForceMfaVO;

trait TenantConfigForceMfaAttributeHolder
{
    protected TenantConfigForceMfaVO|bool|null $forceMfa = null;
    protected bool $forceMfaAssigned = false;

    public function getForceMfaOrDefault(?TenantConfigForceMfaVO $forceMfa): TenantConfigForceMfaVO|bool|null
    {
        return $this->forceMfaAssigned ? ($this->forceMfa !== null ? TenantConfigForceMfaVO::from($this->forceMfa) : null) : $forceMfa;
    }
    public function forceMfa(TenantConfigForceMfaVO|bool|null $forceMfa): static
    {
        $this->forceMfa = $forceMfa;
        $this->forceMfaAssigned = true;
        return $this;
    }
    public function getForceMfa(): ?bool
    {
        return is_a($this->forceMfa, TenantConfigForceMfaVO::class) ? $this->forceMfa->value() : $this->forceMfa;
    }
    public function unsetForceMfa(): static
    {
        $this->forceMfa = null;
        $this->forceMfaAssigned = false;
        return $this;
    }
    protected function withDefaultForceMfa(): void
    {
        if ($this->forceMfa === null) {
            $this->forceMfa = false;
        }
    }
    protected function withAssertedForceMfaRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->forceMfaAssigned = $this->forceMfaAssigned) {
            $value->forceMfa = TenantConfigForceMfaVO::tryFrom($this->forceMfa, $errorsList);
        }
    }
}
