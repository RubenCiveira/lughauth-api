<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigEnableRegisterUsersVO;

trait TenantConfigEnableRegisterUsersAttributeHolder
{
    protected TenantConfigEnableRegisterUsersVO|bool|null $enableRegisterUsers = null;
    protected bool $enableRegisterUsersAssigned = false;

    public function getEnableRegisterUsersOrDefault(?TenantConfigEnableRegisterUsersVO $enableRegisterUsers): ?TenantConfigEnableRegisterUsersVO
    {
        return $this->enableRegisterUsersAssigned ? ($this->enableRegisterUsers !== null ? TenantConfigEnableRegisterUsersVO::from($this->enableRegisterUsers) : null) : $enableRegisterUsers;
    }
    public function enableRegisterUsers(TenantConfigEnableRegisterUsersVO|bool|null $enableRegisterUsers): static
    {
        $this->enableRegisterUsers = $enableRegisterUsers;
        $this->enableRegisterUsersAssigned = true;
        return $this;
    }
    public function getEnableRegisterUsers(): ?bool
    {
        return is_a($this->enableRegisterUsers, TenantConfigEnableRegisterUsersVO::class) ? $this->enableRegisterUsers->value() : $this->enableRegisterUsers;
    }
    public function unsetEnableRegisterUsers(): static
    {
        $this->enableRegisterUsers = null;
        $this->enableRegisterUsersAssigned = false;
        return $this;
    }
    protected function withDefaultEnableRegisterUsers(): void
    {
        if ($this->enableRegisterUsers === null) {
            $this->enableRegisterUsers = true;
        }
    }
    protected function withAssertedEnableRegisterUsersRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->enableRegisterUsersAssigned = $this->enableRegisterUsersAssigned) {
            $value->enableRegisterUsers = TenantConfigEnableRegisterUsersVO::tryFrom($this->enableRegisterUsers, $errorsList);
        }
    }
}
