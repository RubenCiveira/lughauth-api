<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantConfig\Domain;

use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigUidVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigTenantVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigTenantAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigInnerLabelVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigInnerLabelAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigForceMfaVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigForceMfaAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigAllowRegisterVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigAllowRegisterAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigEnableRegisterUsersVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigEnableRegisterUsersAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigWellcomeEmailVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigWellcomeEmailAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigRegisterdEmailVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigRegisterdEmailAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigDisabledUserEmailVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigDisabledUserEmailAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigEnabledUserEmailVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigEnabledUserEmailAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigAllowRecoverPassVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigAllowRecoverPassAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigRecoverPassEmailVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigRecoverPassEmailAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\TenantConfigVersionVO;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\ValueObject\Accesor\TenantConfigVersionAccesor;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\Event\TenantConfigCreateEvent;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\Event\TenantConfigUpdateEvent;
use Civi\Lughauth\Features\Access\TenantConfig\Domain\Event\TenantConfigDeleteEvent;
use Civi\Lughauth\Features\Access\Tenant\Domain\TenantRef;

class TenantConfig extends TenantConfigRef
{
    use TenantConfigTenantAccesor;
    use TenantConfigInnerLabelAccesor;
    use TenantConfigForceMfaAccesor;
    use TenantConfigAllowRegisterAccesor;
    use TenantConfigEnableRegisterUsersAccesor;
    use TenantConfigWellcomeEmailAccesor;
    use TenantConfigRegisterdEmailAccesor;
    use TenantConfigDisabledUserEmailAccesor;
    use TenantConfigEnabledUserEmailAccesor;
    use TenantConfigAllowRecoverPassAccesor;
    use TenantConfigRecoverPassEmailAccesor;
    use TenantConfigVersionAccesor;
    private array $recordedEvents = [];

    public function __construct(
        TenantConfigUidVO|string $uid,
        TenantConfigTenantVO|TenantRef $tenant,
        TenantConfigForceMfaVO|bool $forceMfa,
        TenantConfigInnerLabelVO|string|null $innerLabel = null,
        TenantConfigAllowRegisterVO|bool|null $allowRegister = null,
        TenantConfigEnableRegisterUsersVO|bool|null $enableRegisterUsers = null,
        TenantConfigWellcomeEmailVO|string|null $wellcomeEmail = null,
        TenantConfigRegisterdEmailVO|string|null $registerdEmail = null,
        TenantConfigDisabledUserEmailVO|string|null $disabledUserEmail = null,
        TenantConfigEnabledUserEmailVO|string|null $enabledUserEmail = null,
        TenantConfigAllowRecoverPassVO|bool|null $allowRecoverPass = null,
        TenantConfigRecoverPassEmailVO|string|null $recoverPassEmail = null,
        TenantConfigVersionVO|int|null $version = null,
    ) {
        parent::__construct($uid);
        $this->_tenant = TenantConfigTenantVO::from($tenant);
        $this->_innerLabel = null === $innerLabel ? TenantConfigInnerLabelVO::empty() : TenantConfigInnerLabelVO::from($innerLabel);
        $this->_forceMfa = TenantConfigForceMfaVO::from($forceMfa);
        $this->_allowRegister = null === $allowRegister ? TenantConfigAllowRegisterVO::empty() : TenantConfigAllowRegisterVO::from($allowRegister);
        $this->_enableRegisterUsers = null === $enableRegisterUsers ? TenantConfigEnableRegisterUsersVO::empty() : TenantConfigEnableRegisterUsersVO::from($enableRegisterUsers);
        $this->_wellcomeEmail = null === $wellcomeEmail ? TenantConfigWellcomeEmailVO::empty() : TenantConfigWellcomeEmailVO::from($wellcomeEmail);
        $this->_registerdEmail = null === $registerdEmail ? TenantConfigRegisterdEmailVO::empty() : TenantConfigRegisterdEmailVO::from($registerdEmail);
        $this->_disabledUserEmail = null === $disabledUserEmail ? TenantConfigDisabledUserEmailVO::empty() : TenantConfigDisabledUserEmailVO::from($disabledUserEmail);
        $this->_enabledUserEmail = null === $enabledUserEmail ? TenantConfigEnabledUserEmailVO::empty() : TenantConfigEnabledUserEmailVO::from($enabledUserEmail);
        $this->_allowRecoverPass = null === $allowRecoverPass ? TenantConfigAllowRecoverPassVO::empty() : TenantConfigAllowRecoverPassVO::from($allowRecoverPass);
        $this->_recoverPassEmail = null === $recoverPassEmail ? TenantConfigRecoverPassEmailVO::empty() : TenantConfigRecoverPassEmailVO::from($recoverPassEmail);
        $this->_version = null === $version ? TenantConfigVersionVO::empty() : TenantConfigVersionVO::from($version);
    }
    public function replace(TenantConfigAttributes $values): TenantConfig
    {
        $value = clone $this;
        $value->_tenant = $values->getTenantOrDefault($this->_tenant);
        $value->_innerLabel = $values->getInnerLabelOrDefault($this->_innerLabel);
        $value->_forceMfa = $values->getForceMfaOrDefault($this->_forceMfa);
        $value->_allowRegister = $values->getAllowRegisterOrDefault($this->_allowRegister);
        $value->_enableRegisterUsers = $values->getEnableRegisterUsersOrDefault($this->_enableRegisterUsers);
        $value->_wellcomeEmail = $values->getWellcomeEmailOrDefault($this->_wellcomeEmail);
        $value->_registerdEmail = $values->getRegisterdEmailOrDefault($this->_registerdEmail);
        $value->_disabledUserEmail = $values->getDisabledUserEmailOrDefault($this->_disabledUserEmail);
        $value->_enabledUserEmail = $values->getEnabledUserEmailOrDefault($this->_enabledUserEmail);
        $value->_allowRecoverPass = $values->getAllowRecoverPassOrDefault($this->_allowRecoverPass);
        $value->_recoverPassEmail = $values->getRecoverPassEmailOrDefault($this->_recoverPassEmail);
        $value->_version = $values->getVersionOrDefault($this->_version);
        return $value;
    }
    public static function calculatedFields(): array
    {
        return [];
    }
    public static function create(TenantConfigAttributes $values): TenantConfig
    {
        $value = $values->build();
        $value->recordedEvents[] = new TenantConfigCreateEvent($value);
        return $value;
    }
    public function update(TenantConfigAttributes $values): TenantConfig
    {
        $value = $this->replace($values);
        $value->recordedEvents[] = new TenantConfigUpdateEvent($value);
        return $value;
    }
    public function delete(): TenantConfig
    {
        $value = clone $this;
        $value->recordedEvents[] = new TenantConfigDeleteEvent($value);
        return $value;
    }
    public function asPublicJson(): array
    {
        $data = [];
        $data['uid'] = $this->uid();
        $tenant = $this->getTenant()?->uid();
        if ($tenant) {
            $data['tenant'] = ['$ref' => $tenant];
        }
        $data['innerLabel'] = $this->getInnerLabel();
        $data['forceMfa'] = $this->getForceMfa();
        $data['allowRegister'] = $this->getAllowRegister();
        $data['enableRegisterUsers'] = $this->getEnableRegisterUsers();
        $data['allowRecoverPass'] = $this->getAllowRecoverPass();
        $data['version'] = $this->getVersion();
        return $data;
    }
    public function toAttributes(): TenantConfigAttributes
    {
        return (new TenantConfigAttributes())
          ->uid($this->uid())
          ->tenant($this->_tenant)
          ->innerLabel($this->_innerLabel)
          ->forceMfa($this->_forceMfa)
          ->allowRegister($this->_allowRegister)
          ->enableRegisterUsers($this->_enableRegisterUsers)
          ->wellcomeEmail($this->_wellcomeEmail)
          ->registerdEmail($this->_registerdEmail)
          ->disabledUserEmail($this->_disabledUserEmail)
          ->enabledUserEmail($this->_enabledUserEmail)
          ->allowRecoverPass($this->_allowRecoverPass)
          ->recoverPassEmail($this->_recoverPassEmail)
          ->version($this->_version);
    }
    public function getTheEvents(): array
    {
        return [...$this->recordedEvents];
    }
}
