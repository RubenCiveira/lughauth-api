<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Tenant\Domain;

use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantUidAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantUidVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantNameAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantNameVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantRootAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantRootVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantDomainAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantDomainVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantEnabledAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantEnabledVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantMarkForDeleteAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantMarkForDeleteVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantMarkForDeleteTimeAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantMarkForDeleteTimeVO;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder\TenantVersionAttributeHolder;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class TenantAttributes
{
    use TenantUidAttributeHolder;
    use TenantNameAttributeHolder;
    use TenantRootAttributeHolder;
    use TenantDomainAttributeHolder;
    use TenantEnabledAttributeHolder;
    use TenantMarkForDeleteAttributeHolder;
    use TenantMarkForDeleteTimeAttributeHolder;
    use TenantVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'name' => 'unsetName',
      'root' => 'unsetRoot',
      'domain' => 'unsetDomain',
      'enabled' => 'unsetEnabled',
      'markForDelete' => 'unsetMarkForDelete',
      'markForDeleteTime' => 'unsetMarkForDeleteTime',
      'version' => 'unsetVersion',
    ];

    public function build(): Tenant
    {
        $errors = new ConstraintFailList();
        $uid = TenantUidVO::tryFrom($this->uid, $errors);
        $name = TenantNameVO::tryFrom($this->name, $errors);
        $root = TenantRootVO::tryFrom($this->root, $errors);
        $domain = TenantDomainVO::tryFrom($this->domain, $errors);
        $enabled = TenantEnabledVO::tryFrom($this->enabled, $errors);
        $markForDelete = TenantMarkForDeleteVO::tryFrom($this->markForDelete, $errors);
        $markForDeleteTime = TenantMarkForDeleteTimeVO::tryFrom($this->markForDeleteTime, $errors);
        $version = TenantVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new Tenant(
            uid: $uid,
            name: $name,
            root: $root,
            domain: $domain,
            enabled: $enabled,
            markForDelete: $markForDelete,
            markForDeleteTime: $markForDeleteTime,
            version: $version,
        );
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withAssertedRules(): TenantAttributes
    {
        $value = new TenantAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedNameRules($value, $errorsList);
        $this->withAssertedRootRules($value, $errorsList);
        $this->withAssertedDomainRules($value, $errorsList);
        $this->withAssertedEnabledRules($value, $errorsList);
        $this->withAssertedMarkForDeleteRules($value, $errorsList);
        $this->withAssertedMarkForDeleteTimeRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function withDefaults(): TenantAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultName();
        $this->withDefaultRoot();
        $this->withDefaultDomain();
        $this->withDefaultEnabled();
        $this->withDefaultMarkForDelete();
        $this->withDefaultMarkForDeleteTime();
        $this->withDefaultVersion();
        return $this;
    }
}
