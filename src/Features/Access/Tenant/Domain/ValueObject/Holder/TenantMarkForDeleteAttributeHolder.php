<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\Tenant\Domain\ValueObject\TenantMarkForDeleteVO;

trait TenantMarkForDeleteAttributeHolder
{
    protected TenantMarkForDeleteVO|bool|null $markForDelete = null;
    protected bool $markForDeleteAssigned = false;

    public function getMarkForDeleteOrDefault(?TenantMarkForDeleteVO $markForDelete): ?TenantMarkForDeleteVO
    {
        return $this->markForDeleteAssigned ? ($this->markForDelete !== null ? TenantMarkForDeleteVO::from($this->markForDelete) : null) : $markForDelete;
    }
    public function markForDelete(TenantMarkForDeleteVO|bool|null $markForDelete): static
    {
        $this->markForDelete = $markForDelete;
        $this->markForDeleteAssigned = true;
        return $this;
    }
    public function isMarkForDelete(): ?bool
    {
        return is_a($this->markForDelete, TenantMarkForDeleteVO::class) ? $this->markForDelete->value() : $this->markForDelete;
    }
    public function unsetMarkForDelete(): static
    {
        $this->markForDelete = null;
        $this->markForDeleteAssigned = false;
        return $this;
    }
    protected function withDefaultMarkForDelete(): void
    {
        if ($this->markForDelete === null) {
            $this->markForDelete = false;
        }
    }
    protected function withAssertedMarkForDeleteRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->markForDeleteAssigned = $this->markForDeleteAssigned) {
            $value->markForDelete = TenantMarkForDeleteVO::tryFrom($this->markForDelete, $errorsList);
        }
    }
}
