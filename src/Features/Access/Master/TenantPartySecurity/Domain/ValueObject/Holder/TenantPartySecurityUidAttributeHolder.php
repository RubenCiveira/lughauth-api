<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Master\TenantPartySecurity\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\Master\TenantPartySecurity\Domain\ValueObject\TenantPartySecurityUidVO;

trait TenantPartySecurityUidAttributeHolder
{
    protected TenantPartySecurityUidVO|string|null $uid = null;
    protected bool $uidAssigned = false;

    public function getUidOrDefault(?TenantPartySecurityUidVO $uid): ?TenantPartySecurityUidVO
    {
        return $this->uidAssigned ? ($this->uid !== null ? TenantPartySecurityUidVO::from($this->uid) : null) : $uid;
    }
    public function uid(TenantPartySecurityUidVO|string|null $uid): static
    {
        $this->uid = $uid;
        $this->uidAssigned = true;
        return $this;
    }
    public function getUid(): ?string
    {
        return is_a($this->uid, TenantPartySecurityUidVO::class) ? $this->uid->value() : $this->uid;
    }
    public function unsetUid(): static
    {
        $this->uid = null;
        $this->uidAssigned = false;
        return $this;
    }
    protected function withDefaultUid(): void
    {
    }
    protected function withAssertedUidRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->uidAssigned = $this->uidAssigned) {
            $value->uid = TenantPartySecurityUidVO::tryFrom($this->uid, $errorsList);
        }
    }
}
