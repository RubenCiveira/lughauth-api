<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Master\RelyingParty\Domain;

use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyUidAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyUidVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyCodeAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyCodeVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyApiKeyAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyApiKeyVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyEnabledAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyEnabledVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyScopesAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyScopesVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartySchemasAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartySchemasVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyPoliciesAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyPoliciesVO;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\Holder\RelyingPartyVersionAttributeHolder;
use Civi\Lughauth\Features\Access\Master\RelyingParty\Domain\ValueObject\RelyingPartyVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class RelyingPartyAttributes
{
    use RelyingPartyUidAttributeHolder;
    use RelyingPartyCodeAttributeHolder;
    use RelyingPartyApiKeyAttributeHolder;
    use RelyingPartyEnabledAttributeHolder;
    use RelyingPartyScopesAttributeHolder;
    use RelyingPartySchemasAttributeHolder;
    use RelyingPartyPoliciesAttributeHolder;
    use RelyingPartyVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'code' => 'unsetCode',
      'apiKey' => 'unsetApiKey',
      'enabled' => 'unsetEnabled',
      'scopes' => 'unsetScopes',
      'schemas' => 'unsetSchemas',
      'policies' => 'unsetPolicies',
      'version' => 'unsetVersion',
    ];

    public function build(): RelyingParty
    {
        $errors = new ConstraintFailList();
        $uid = RelyingPartyUidVO::tryFrom($this->uid, $errors);
        $code = RelyingPartyCodeVO::tryFrom($this->code, $errors);
        $apiKey = RelyingPartyApiKeyVO::tryFrom($this->apiKey, $errors);
        $enabled = RelyingPartyEnabledVO::tryFrom($this->enabled, $errors);
        $scopes = RelyingPartyScopesVO::tryFrom($this->scopes, $errors);
        $schemas = RelyingPartySchemasVO::tryFrom($this->schemas, $errors);
        $policies = RelyingPartyPoliciesVO::tryFrom($this->policies, $errors);
        $version = RelyingPartyVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new RelyingParty(
            uid: $uid,
            code: $code,
            apiKey: $apiKey,
            enabled: $enabled,
            scopes: $scopes,
            schemas: $schemas,
            policies: $policies,
            version: $version,
        );
    }
    public function withAssertedRules(): RelyingPartyAttributes
    {
        $value = new RelyingPartyAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedCodeRules($value, $errorsList);
        $this->withAssertedApiKeyRules($value, $errorsList);
        $this->withAssertedEnabledRules($value, $errorsList);
        $this->withAssertedScopesRules($value, $errorsList);
        $this->withAssertedSchemasRules($value, $errorsList);
        $this->withAssertedPoliciesRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withDefaults(): RelyingPartyAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultCode();
        $this->withDefaultApiKey();
        $this->withDefaultEnabled();
        $this->withDefaultScopes();
        $this->withDefaultSchemas();
        $this->withDefaultPolicies();
        $this->withDefaultVersion();
        return $this;
    }
}
