<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Master\User\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\Master\User\Domain\ValueObject\UserSecondFactorSeedVO;

trait UserSecondFactorSeedAttributeHolder
{
    protected UserSecondFactorSeedVO|string|null $secondFactorSeed = null;
    protected bool $secondFactorSeedAssigned = false;

    public function getSecondFactorSeedOrDefault(?UserSecondFactorSeedVO $secondFactorSeed): ?UserSecondFactorSeedVO
    {
        return $this->secondFactorSeedAssigned ? ($this->secondFactorSeed !== null ? UserSecondFactorSeedVO::from($this->secondFactorSeed) : null) : $secondFactorSeed;
    }
    public function secondFactorSeed(UserSecondFactorSeedVO|string|null $secondFactorSeed): static
    {
        $this->secondFactorSeed = $secondFactorSeed;
        $this->secondFactorSeedAssigned = true;
        return $this;
    }
    public function getSecondFactorSeed(): ?string
    {
        return is_a($this->secondFactorSeed, UserSecondFactorSeedVO::class) ? $this->secondFactorSeed->value() : $this->secondFactorSeed;
    }
    public function unsetSecondFactorSeed(): static
    {
        $this->secondFactorSeed = null;
        $this->secondFactorSeedAssigned = false;
        return $this;
    }
    protected function withDefaultSecondFactorSeed(): void
    {
    }
    protected function withAssertedSecondFactorSeedRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->secondFactorSeedAssigned = $this->secondFactorSeedAssigned) {
            $value->secondFactorSeed = UserSecondFactorSeedVO::tryFrom($this->secondFactorSeed, $errorsList);
        }
    }
}
