<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Master\UserIdentity\Domain\ValueObject;

use Civi\Lughauth\Features\Access\Master\UserIdentity\Domain\ValueObject\Accesor\UserIdentityRolesRoleAccesor;
use Civi\Lughauth\Features\Access\Master\UserIdentity\Domain\ValueObject\Accesor\UserIdentityRolesVersionAccesor;

class UserIdentityRolesItem
{
    use UserIdentityRolesRoleAccesor;
    use UserIdentityRolesVersionAccesor;
    private readonly UserIdentityRolesUidVO $_uid;
    public function __construct(
        UserIdentityRolesUidVO|null $uid,
        UserIdentityRolesRoleVO|null $role,
        UserIdentityRolesVersionVO|null $version,
    ) {
        $this->_uid = $uid;
        $this->_role = $role;
        $this->_version = $version;
    }
    public function uid(): string
    {
        return $this->_uid->value();
    }
    public function getOrDefault(UserIdentityRolesItem $base): UserIdentityRolesItem
    {
        return new UserIdentityRolesItem(
            $this->_uid ??  $base->_uid,
            $this->_role ??  $base->_role,
            $this->_version ??  $base->_version,
        );
    }
}
