<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\Master\UserAccessTemporalCode\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\Master\UserAccessTemporalCode\Domain\ValueObject\UserAccessTemporalCodeRecoveryCodeExpirationVO;

trait UserAccessTemporalCodeRecoveryCodeExpirationAttributeHolder
{
    protected UserAccessTemporalCodeRecoveryCodeExpirationVO|\DateTimeImmutable|null $recoveryCodeExpiration = null;
    protected bool $recoveryCodeExpirationAssigned = false;

    public function getRecoveryCodeExpirationOrDefault(?UserAccessTemporalCodeRecoveryCodeExpirationVO $recoveryCodeExpiration): ?UserAccessTemporalCodeRecoveryCodeExpirationVO
    {
        return $this->recoveryCodeExpirationAssigned ? ($this->recoveryCodeExpiration !== null ? UserAccessTemporalCodeRecoveryCodeExpirationVO::from($this->recoveryCodeExpiration) : null) : $recoveryCodeExpiration;
    }
    public function recoveryCodeExpiration(UserAccessTemporalCodeRecoveryCodeExpirationVO|\DateTimeImmutable|null $recoveryCodeExpiration): static
    {
        $this->recoveryCodeExpiration = $recoveryCodeExpiration;
        $this->recoveryCodeExpirationAssigned = true;
        return $this;
    }
    public function getRecoveryCodeExpiration(): ?\DateTimeImmutable
    {
        return is_a($this->recoveryCodeExpiration, UserAccessTemporalCodeRecoveryCodeExpirationVO::class) ? $this->recoveryCodeExpiration->value() : $this->recoveryCodeExpiration;
    }
    public function unsetRecoveryCodeExpiration(): static
    {
        $this->recoveryCodeExpiration = null;
        $this->recoveryCodeExpirationAssigned = false;
        return $this;
    }
    protected function withDefaultRecoveryCodeExpiration(): void
    {
    }
    protected function withAssertedRecoveryCodeExpirationRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->recoveryCodeExpirationAssigned = $this->recoveryCodeExpirationAssigned) {
            $value->recoveryCodeExpiration = UserAccessTemporalCodeRecoveryCodeExpirationVO::tryFrom($this->recoveryCodeExpiration, $errorsList);
        }
    }
}
