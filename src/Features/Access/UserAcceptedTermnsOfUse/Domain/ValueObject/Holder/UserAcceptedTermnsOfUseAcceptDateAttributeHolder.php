<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseAcceptDateVO;

trait UserAcceptedTermnsOfUseAcceptDateAttributeHolder
{
    protected UserAcceptedTermnsOfUseAcceptDateVO|\DateTimeImmutable|null $acceptDate = null;
    protected bool $acceptDateAssigned = false;

    public function getAcceptDateOrDefault(?UserAcceptedTermnsOfUseAcceptDateVO $acceptDate): UserAcceptedTermnsOfUseAcceptDateVO|\DateTimeImmutable|null
    {
        return $this->acceptDateAssigned ? ($this->acceptDate !== null ? UserAcceptedTermnsOfUseAcceptDateVO::from($this->acceptDate) : null) : $acceptDate;
    }
    public function acceptDate(UserAcceptedTermnsOfUseAcceptDateVO|\DateTimeImmutable|null $acceptDate): static
    {
        $this->acceptDate = $acceptDate;
        $this->acceptDateAssigned = true;
        return $this;
    }
    public function getAcceptDate(): ?\DateTimeImmutable
    {
        return is_a($this->acceptDate, UserAcceptedTermnsOfUseAcceptDateVO::class) ? $this->acceptDate->value() : $this->acceptDate;
    }
    public function unsetAcceptDate(): static
    {
        $this->acceptDate = null;
        $this->acceptDateAssigned = false;
        return $this;
    }
    protected function withDefaultAcceptDate(): void
    {
    }
    protected function withAssertedAcceptDateRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->acceptDateAssigned = $this->acceptDateAssigned) {
            $value->acceptDate = UserAcceptedTermnsOfUseAcceptDateVO::tryFrom($this->acceptDate, $errorsList);
        }
    }
}
