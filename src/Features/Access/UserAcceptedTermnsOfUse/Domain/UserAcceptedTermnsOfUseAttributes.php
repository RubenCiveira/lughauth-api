<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain;

use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder\UserAcceptedTermnsOfUseUidAttributeHolder;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseUidVO;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder\UserAcceptedTermnsOfUseUserAttributeHolder;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseUserVO;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder\UserAcceptedTermnsOfUseConditionsAttributeHolder;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseConditionsVO;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder\UserAcceptedTermnsOfUseAcceptDateAttributeHolder;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseAcceptDateVO;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\Holder\UserAcceptedTermnsOfUseVersionAttributeHolder;
use Civi\Lughauth\Features\Access\UserAcceptedTermnsOfUse\Domain\ValueObject\UserAcceptedTermnsOfUseVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class UserAcceptedTermnsOfUseAttributes
{
    use UserAcceptedTermnsOfUseUidAttributeHolder;
    use UserAcceptedTermnsOfUseUserAttributeHolder;
    use UserAcceptedTermnsOfUseConditionsAttributeHolder;
    use UserAcceptedTermnsOfUseAcceptDateAttributeHolder;
    use UserAcceptedTermnsOfUseVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'user' => 'unsetUser',
      'conditions' => 'unsetConditions',
      'acceptDate' => 'unsetAcceptDate',
      'version' => 'unsetVersion',
    ];

    public function build(): UserAcceptedTermnsOfUse
    {
        $errors = new ConstraintFailList();
        $uid = UserAcceptedTermnsOfUseUidVO::tryFrom($this->uid, $errors);
        $user = UserAcceptedTermnsOfUseUserVO::tryFrom($this->user, $errors);
        $conditions = UserAcceptedTermnsOfUseConditionsVO::tryFrom($this->conditions, $errors);
        $acceptDate = UserAcceptedTermnsOfUseAcceptDateVO::tryFrom($this->acceptDate, $errors);
        $version = UserAcceptedTermnsOfUseVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new UserAcceptedTermnsOfUse(
            uid: $uid,
            user: $user,
            conditions: $conditions,
            acceptDate: $acceptDate,
            version: $version,
        );
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withAssertedRules(): UserAcceptedTermnsOfUseAttributes
    {
        $value = new UserAcceptedTermnsOfUseAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedUserRules($value, $errorsList);
        $this->withAssertedConditionsRules($value, $errorsList);
        $this->withAssertedAcceptDateRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function withDefaults(): UserAcceptedTermnsOfUseAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultUser();
        $this->withDefaultConditions();
        $this->withDefaultAcceptDate();
        $this->withDefaultVersion();
        return $this;
    }
}
