<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TrustedClient\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TrustedClient\Domain\ValueObject\TrustedClientAllowedRedirectsUrlVO;

trait TrustedClientAllowedRedirectsUrlAttributeHolder
{
    protected TrustedClientAllowedRedirectsUrlVO|string|null $url = null;
    protected bool $urlAssigned = false;

    public function getUrlOrDefault(?TrustedClientAllowedRedirectsUrlVO $url): ?TrustedClientAllowedRedirectsUrlVO
    {
        return $this->urlAssigned ? ($this->url !== null ? TrustedClientAllowedRedirectsUrlVO::from($this->url) : null) : $url;
    }
    public function url(TrustedClientAllowedRedirectsUrlVO|string|null $url): static
    {
        $this->url = $url;
        $this->urlAssigned = true;
        return $this;
    }
    public function getUrl(): ?string
    {
        return is_a($this->url, TrustedClientAllowedRedirectsUrlVO::class) ? $this->url->value() : $this->url;
    }
    public function unsetUrl(): static
    {
        $this->url = null;
        $this->urlAssigned = false;
        return $this;
    }
    protected function withDefaultUrl(): void
    {
    }
    protected function withAssertedUrlRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->urlAssigned = $this->urlAssigned) {
            $value->url = TrustedClientAllowedRedirectsUrlVO::tryFrom($this->url, $errorsList);
        }
    }
}
