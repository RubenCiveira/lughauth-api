<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TrustedClient\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TrustedClient\Domain\ValueObject\TrustedClientPublicAllowVO;

trait TrustedClientPublicAllowAttributeHolder
{
    protected TrustedClientPublicAllowVO|bool|null $publicAllow = null;
    protected bool $publicAllowAssigned = false;

    public function getPublicAllowOrDefault(?TrustedClientPublicAllowVO $publicAllow): TrustedClientPublicAllowVO|bool|null
    {
        return $this->publicAllowAssigned ? ($this->publicAllow !== null ? TrustedClientPublicAllowVO::from($this->publicAllow) : null) : $publicAllow;
    }
    public function publicAllow(TrustedClientPublicAllowVO|bool|null $publicAllow): static
    {
        $this->publicAllow = $publicAllow;
        $this->publicAllowAssigned = true;
        return $this;
    }
    public function getPublicAllow(): ?bool
    {
        return is_a($this->publicAllow, TrustedClientPublicAllowVO::class) ? $this->publicAllow->value() : $this->publicAllow;
    }
    public function unsetPublicAllow(): static
    {
        $this->publicAllow = null;
        $this->publicAllowAssigned = false;
        return $this;
    }
    protected function withDefaultPublicAllow(): void
    {
    }
    protected function withAssertedPublicAllowRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->publicAllowAssigned = $this->publicAllowAssigned) {
            $value->publicAllow = TrustedClientPublicAllowVO::tryFrom($this->publicAllow, $errorsList);
        }
    }
}
