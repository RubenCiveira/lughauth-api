<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\ScopeAttributePermission\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\ScopeAttributePermission\Domain\ValueObject\ScopeAttributePermissionReadVO;

trait ScopeAttributePermissionReadAttributeHolder
{
    protected ScopeAttributePermissionReadVO|bool|null $read = null;
    protected bool $readAssigned = false;

    public function getReadOrDefault(?ScopeAttributePermissionReadVO $read): ?ScopeAttributePermissionReadVO
    {
        return $this->readAssigned ? ($this->read !== null ? ScopeAttributePermissionReadVO::from($this->read) : null) : $read;
    }
    public function read(ScopeAttributePermissionReadVO|bool|null $read): static
    {
        $this->read = $read;
        $this->readAssigned = true;
        return $this;
    }
    public function getRead(): ?bool
    {
        return is_a($this->read, ScopeAttributePermissionReadVO::class) ? $this->read->value() : $this->read;
    }
    public function unsetRead(): static
    {
        $this->read = null;
        $this->readAssigned = false;
        return $this;
    }
    protected function withDefaultRead(): void
    {
    }
    protected function withAssertedReadRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->readAssigned = $this->readAssigned) {
            $value->read = ScopeAttributePermissionReadVO::tryFrom($this->read, $errorsList);
        }
    }
}
