<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\ScopeAttributePermission\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\ScopeAttributePermission\Domain\ValueObject\ScopeAttributePermissionWriteVO;

trait ScopeAttributePermissionWriteAttributeHolder
{
    protected ScopeAttributePermissionWriteVO|bool|null $write = null;
    protected bool $writeAssigned = false;

    public function getWriteOrDefault(?ScopeAttributePermissionWriteVO $write): ?ScopeAttributePermissionWriteVO
    {
        return $this->writeAssigned ? ($this->write !== null ? ScopeAttributePermissionWriteVO::from($this->write) : null) : $write;
    }
    public function write(ScopeAttributePermissionWriteVO|bool|null $write): static
    {
        $this->write = $write;
        $this->writeAssigned = true;
        return $this;
    }
    public function getWrite(): ?bool
    {
        return is_a($this->write, ScopeAttributePermissionWriteVO::class) ? $this->write->value() : $this->write;
    }
    public function unsetWrite(): static
    {
        $this->write = null;
        $this->writeAssigned = false;
        return $this;
    }
    protected function withDefaultWrite(): void
    {
    }
    protected function withAssertedWriteRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->writeAssigned = $this->writeAssigned) {
            $value->write = ScopeAttributePermissionWriteVO::tryFrom($this->write, $errorsList);
        }
    }
}
