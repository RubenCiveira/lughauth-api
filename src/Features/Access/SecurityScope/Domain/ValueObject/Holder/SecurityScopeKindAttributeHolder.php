<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\SecurityScope\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\SecurityScope\Domain\ValueObject\SecurityScopeKindVO;

trait SecurityScopeKindAttributeHolder
{
    protected SecurityScopeKindVO|string|null $kind = null;
    protected bool $kindAssigned = false;

    public function getKindOrDefault(?SecurityScopeKindVO $kind): ?SecurityScopeKindVO
    {
        return $this->kindAssigned ? ($this->kind !== null ? SecurityScopeKindVO::from($this->kind) : null) : $kind;
    }
    public function kind(SecurityScopeKindVO|string|null $kind): static
    {
        $this->kind = $kind;
        $this->kindAssigned = true;
        return $this;
    }
    public function getKind(): ?string
    {
        return is_a($this->kind, SecurityScopeKindVO::class) ? $this->kind->value() : $this->kind;
    }
    public function unsetKind(): static
    {
        $this->kind = null;
        $this->kindAssigned = false;
        return $this;
    }
    protected function withDefaultKind(): void
    {
    }
    protected function withAssertedKindRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->kindAssigned = $this->kindAssigned) {
            $value->kind = SecurityScopeKindVO::tryFrom($this->kind, $errorsList);
        }
    }
}
