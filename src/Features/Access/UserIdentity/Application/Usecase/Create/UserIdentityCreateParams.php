<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\UserIdentity\Application\Usecase\Create;

use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityUidAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityUserAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityRelyingPartyAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityTrustedClientAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityRolesAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\ValueObject\Holder\UserIdentityVersionAttributeHolder;
use Civi\Lughauth\Features\Access\UserIdentity\Domain\UserIdentityAttributes;

class UserIdentityCreateParams
{
    use UserIdentityUidAttributeHolder;
    use UserIdentityUserAttributeHolder;
    use UserIdentityRelyingPartyAttributeHolder;
    use UserIdentityTrustedClientAttributeHolder;
    use UserIdentityRolesAttributeHolder;
    use UserIdentityVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'user' => 'unsetUser',
      'relyingParty' => 'unsetRelyingParty',
      'trustedClient' => 'unsetTrustedClient',
      'roles' => 'unsetRoles',
      'version' => 'unsetVersion',
    ];

    public function __construct(UserIdentityAttributes|null $att = null)
    {
        if ($att) {
            $this->uid($att->getUidOrDefault(null));
            $this->user($att->getUserOrDefault(null));
            $this->relyingParty($att->getRelyingPartyOrDefault(null));
            $this->trustedClient($att->getTrustedClientOrDefault(null));
            $this->roles($att->getRolesOrDefault(null));
            $this->version($att->getVersionOrDefault(null));
        }
    }
    public function toAttributes(): UserIdentityAttributes
    {
        $att = new UserIdentityAttributes();
        if ($this->uid) {
            $att->uid($this->uid);
        }
        if ($this->user) {
            $att->user($this->user);
        }
        if ($this->relyingParty) {
            $att->relyingParty($this->relyingParty);
        }
        if ($this->trustedClient) {
            $att->trustedClient($this->trustedClient);
        }
        if ($this->roles) {
            $att->roles($this->roles);
        }
        if ($this->version) {
            $att->version($this->version);
        }
        return $att;
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withDefaults(): UserIdentityCreateParams
    {
        $this->withDefaultUid();
        $this->withDefaultUser();
        $this->withDefaultRelyingParty();
        $this->withDefaultTrustedClient();
        $this->withDefaultRoles();
        $this->withDefaultVersion();
        return $this;
    }
}
