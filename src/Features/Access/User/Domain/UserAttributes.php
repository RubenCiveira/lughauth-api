<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\User\Domain;

use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserUidAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserUidVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserTenantAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserTenantVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserNameAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserNameVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserPasswordAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserPasswordVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserEmailAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserEmailVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserEnabledAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserEnabledVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserTemporalPasswordAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserTemporalPasswordVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserUseSecondFactorsAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserUseSecondFactorsVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserSecondFactorSeedAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserSecondFactorSeedVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserTempSecondFactorSeedAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserTempSecondFactorSeedVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserFailedLoginAttemptsAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserFailedLoginAttemptsVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserBlockedUntilAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserBlockedUntilVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserRecoveryCodeAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserRecoveryCodeVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserRecoveryCodeExpirationAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserRecoveryCodeExpirationVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserLanguageAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserLanguageVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserProviderAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserProviderVO;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder\UserVersionAttributeHolder;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserVersionVO;
use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;

class UserAttributes
{
    use UserUidAttributeHolder;
    use UserTenantAttributeHolder;
    use UserNameAttributeHolder;
    use UserPasswordAttributeHolder;
    use UserEmailAttributeHolder;
    use UserEnabledAttributeHolder;
    use UserTemporalPasswordAttributeHolder;
    use UserUseSecondFactorsAttributeHolder;
    use UserSecondFactorSeedAttributeHolder;
    use UserTempSecondFactorSeedAttributeHolder;
    use UserFailedLoginAttemptsAttributeHolder;
    use UserBlockedUntilAttributeHolder;
    use UserRecoveryCodeAttributeHolder;
    use UserRecoveryCodeExpirationAttributeHolder;
    use UserLanguageAttributeHolder;
    use UserProviderAttributeHolder;
    use UserVersionAttributeHolder;

    private const UNSETS = [
      'uid' => 'unsetUid',
      'tenant' => 'unsetTenant',
      'name' => 'unsetName',
      'password' => 'unsetPassword',
      'email' => 'unsetEmail',
      'enabled' => 'unsetEnabled',
      'temporalPassword' => 'unsetTemporalPassword',
      'useSecondFactors' => 'unsetUseSecondFactors',
      'secondFactorSeed' => 'unsetSecondFactorSeed',
      'tempSecondFactorSeed' => 'unsetTempSecondFactorSeed',
      'failedLoginAttempts' => 'unsetFailedLoginAttempts',
      'blockedUntil' => 'unsetBlockedUntil',
      'recoveryCode' => 'unsetRecoveryCode',
      'recoveryCodeExpiration' => 'unsetRecoveryCodeExpiration',
      'language' => 'unsetLanguage',
      'provider' => 'unsetProvider',
      'version' => 'unsetVersion',
    ];

    public function build(): User
    {
        $errors = new ConstraintFailList();
        $uid = UserUidVO::tryFrom($this->uid, $errors);
        $tenant = UserTenantVO::tryFrom($this->tenant, $errors);
        $name = UserNameVO::tryFrom($this->name, $errors);
        $password = UserPasswordVO::tryFrom($this->password, $errors);
        $email = UserEmailVO::tryFrom($this->email, $errors);
        $enabled = UserEnabledVO::tryFrom($this->enabled, $errors);
        $temporalPassword = UserTemporalPasswordVO::tryFrom($this->temporalPassword, $errors);
        $useSecondFactors = UserUseSecondFactorsVO::tryFrom($this->useSecondFactors, $errors);
        $secondFactorSeed = UserSecondFactorSeedVO::tryFrom($this->secondFactorSeed, $errors);
        $tempSecondFactorSeed = UserTempSecondFactorSeedVO::tryFrom($this->tempSecondFactorSeed, $errors);
        $failedLoginAttempts = UserFailedLoginAttemptsVO::tryFrom($this->failedLoginAttempts, $errors);
        $blockedUntil = UserBlockedUntilVO::tryFrom($this->blockedUntil, $errors);
        $recoveryCode = UserRecoveryCodeVO::tryFrom($this->recoveryCode, $errors);
        $recoveryCodeExpiration = UserRecoveryCodeExpirationVO::tryFrom($this->recoveryCodeExpiration, $errors);
        $language = UserLanguageVO::tryFrom($this->language, $errors);
        $provider = UserProviderVO::tryFrom($this->provider, $errors);
        $version = UserVersionVO::tryFrom($this->version, $errors);
        if ($errors->hasErrors()) {
            throw $errors->asConstraintException();
        }    return new User(
            uid: $uid,
            tenant: $tenant,
            name: $name,
            password: $password,
            email: $email,
            enabled: $enabled,
            temporalPassword: $temporalPassword,
            useSecondFactors: $useSecondFactors,
            secondFactorSeed: $secondFactorSeed,
            tempSecondFactorSeed: $tempSecondFactorSeed,
            failedLoginAttempts: $failedLoginAttempts,
            blockedUntil: $blockedUntil,
            recoveryCode: $recoveryCode,
            recoveryCodeExpiration: $recoveryCodeExpiration,
            language: $language,
            provider: $provider,
            version: $version,
        );
    }
    public function unset($field)
    {
        if (isset(self::UNSETS[$field])) {
            call_user_func([$this, self::UNSETS[$field]]);
        }
    }
    public function withAssertedRules(): UserAttributes
    {
        $value = new UserAttributes();
        $errorsList = new ConstraintFailList();
        $this->withAssertedUidRules($value, $errorsList);
        $this->withAssertedTenantRules($value, $errorsList);
        $this->withAssertedNameRules($value, $errorsList);
        $this->withAssertedPasswordRules($value, $errorsList);
        $this->withAssertedEmailRules($value, $errorsList);
        $this->withAssertedEnabledRules($value, $errorsList);
        $this->withAssertedTemporalPasswordRules($value, $errorsList);
        $this->withAssertedUseSecondFactorsRules($value, $errorsList);
        $this->withAssertedSecondFactorSeedRules($value, $errorsList);
        $this->withAssertedTempSecondFactorSeedRules($value, $errorsList);
        $this->withAssertedFailedLoginAttemptsRules($value, $errorsList);
        $this->withAssertedBlockedUntilRules($value, $errorsList);
        $this->withAssertedRecoveryCodeRules($value, $errorsList);
        $this->withAssertedRecoveryCodeExpirationRules($value, $errorsList);
        $this->withAssertedLanguageRules($value, $errorsList);
        $this->withAssertedProviderRules($value, $errorsList);
        $this->withAssertedVersionRules($value, $errorsList);
        if ($errorsList->hasErrors()) {
            throw $errorsList->asConstraintException();
        }
        return $value;
    }
    public function withDefaults(): UserAttributes
    {
        $this->withDefaultUid();
        $this->withDefaultTenant();
        $this->withDefaultName();
        $this->withDefaultPassword();
        $this->withDefaultEmail();
        $this->withDefaultEnabled();
        $this->withDefaultTemporalPassword();
        $this->withDefaultUseSecondFactors();
        $this->withDefaultSecondFactorSeed();
        $this->withDefaultTempSecondFactorSeed();
        $this->withDefaultFailedLoginAttempts();
        $this->withDefaultBlockedUntil();
        $this->withDefaultRecoveryCode();
        $this->withDefaultRecoveryCodeExpiration();
        $this->withDefaultLanguage();
        $this->withDefaultProvider();
        $this->withDefaultVersion();
        return $this;
    }
}
