<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserUseSecondFactorsVO;

trait UserUseSecondFactorsAttributeHolder
{
    protected UserUseSecondFactorsVO|bool|null $useSecondFactors = null;
    protected bool $useSecondFactorsAssigned = false;

    public function getUseSecondFactorsOrDefault(?UserUseSecondFactorsVO $useSecondFactors): ?UserUseSecondFactorsVO
    {
        return $this->useSecondFactorsAssigned ? ($this->useSecondFactors !== null ? UserUseSecondFactorsVO::from($this->useSecondFactors) : null) : $useSecondFactors;
    }
    public function useSecondFactors(UserUseSecondFactorsVO|bool|null $useSecondFactors): static
    {
        $this->useSecondFactors = $useSecondFactors;
        $this->useSecondFactorsAssigned = true;
        return $this;
    }
    public function isUseSecondFactors(): ?bool
    {
        return is_a($this->useSecondFactors, UserUseSecondFactorsVO::class) ? $this->useSecondFactors->value() : $this->useSecondFactors;
    }
    public function unsetUseSecondFactors(): static
    {
        $this->useSecondFactors = null;
        $this->useSecondFactorsAssigned = false;
        return $this;
    }
    protected function withDefaultUseSecondFactors(): void
    {
        if ($this->useSecondFactors === null) {
            $this->useSecondFactors = false;
        }
    }
    protected function withAssertedUseSecondFactorsRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->useSecondFactorsAssigned = $this->useSecondFactorsAssigned) {
            $value->useSecondFactors = UserUseSecondFactorsVO::tryFrom($this->useSecondFactors, $errorsList);
        }
    }
}
