<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserWellcomeAtVO;

trait UserWellcomeAtAttributeHolder
{
    protected UserWellcomeAtVO|\DateTimeImmutable|null $wellcomeAt = null;
    protected bool $wellcomeAtAssigned = false;

    public function getWellcomeAtOrDefault(?UserWellcomeAtVO $wellcomeAt): ?UserWellcomeAtVO
    {
        return $this->wellcomeAtAssigned ? ($this->wellcomeAt !== null ? UserWellcomeAtVO::from($this->wellcomeAt) : null) : $wellcomeAt;
    }
    public function wellcomeAt(UserWellcomeAtVO|\DateTimeImmutable|null $wellcomeAt): static
    {
        $this->wellcomeAt = $wellcomeAt;
        $this->wellcomeAtAssigned = true;
        return $this;
    }
    public function getWellcomeAt(): ?\DateTimeImmutable
    {
        return is_a($this->wellcomeAt, UserWellcomeAtVO::class) ? $this->wellcomeAt->value() : $this->wellcomeAt;
    }
    public function unsetWellcomeAt(): static
    {
        $this->wellcomeAt = null;
        $this->wellcomeAtAssigned = false;
        return $this;
    }
    protected function withDefaultWellcomeAt(): void
    {
    }
    protected function withAssertedWellcomeAtRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->wellcomeAtAssigned = $this->wellcomeAtAssigned) {
            $value->wellcomeAt = UserWellcomeAtVO::tryFrom($this->wellcomeAt, $errorsList);
        }
    }
}
