<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\User\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\User\Domain\ValueObject\UserRejectedVO;

trait UserRejectedAttributeHolder
{
    protected UserRejectedVO|bool|null $rejected = null;
    protected bool $rejectedAssigned = false;

    public function getRejectedOrDefault(?UserRejectedVO $rejected): ?UserRejectedVO
    {
        return $this->rejectedAssigned ? ($this->rejected !== null ? UserRejectedVO::from($this->rejected) : null) : $rejected;
    }
    public function rejected(UserRejectedVO|bool|null $rejected): static
    {
        $this->rejected = $rejected;
        $this->rejectedAssigned = true;
        return $this;
    }
    public function getRejected(): ?bool
    {
        return is_a($this->rejected, UserRejectedVO::class) ? $this->rejected->value() : $this->rejected;
    }
    public function unsetRejected(): static
    {
        $this->rejected = null;
        $this->rejectedAssigned = false;
        return $this;
    }
    protected function withDefaultRejected(): void
    {
        if ($this->rejected === null) {
            $this->rejected = false;
        }
    }
    protected function withAssertedRejectedRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->rejectedAssigned = $this->rejectedAssigned) {
            $value->rejected = UserRejectedVO::tryFrom($this->rejected, $errorsList);
        }
    }
}
