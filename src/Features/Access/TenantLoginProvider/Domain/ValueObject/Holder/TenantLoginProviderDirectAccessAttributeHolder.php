<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\TenantLoginProviderDirectAccessVO;

trait TenantLoginProviderDirectAccessAttributeHolder
{
    protected TenantLoginProviderDirectAccessVO|bool|null $directAccess = null;
    protected bool $directAccessAssigned = false;

    public function getDirectAccessOrDefault(?TenantLoginProviderDirectAccessVO $directAccess): TenantLoginProviderDirectAccessVO|bool|null
    {
        return $this->directAccessAssigned ? ($this->directAccess !== null ? TenantLoginProviderDirectAccessVO::from($this->directAccess) : null) : $directAccess;
    }
    public function directAccess(TenantLoginProviderDirectAccessVO|bool|null $directAccess): static
    {
        $this->directAccess = $directAccess;
        $this->directAccessAssigned = true;
        return $this;
    }
    public function getDirectAccess(): ?bool
    {
        return is_a($this->directAccess, TenantLoginProviderDirectAccessVO::class) ? $this->directAccess->value() : $this->directAccess;
    }
    public function unsetDirectAccess(): static
    {
        $this->directAccess = null;
        $this->directAccessAssigned = false;
        return $this;
    }
    protected function withDefaultDirectAccess(): void
    {
    }
    protected function withAssertedDirectAccessRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->directAccessAssigned = $this->directAccessAssigned) {
            $value->directAccess = TenantLoginProviderDirectAccessVO::tryFrom($this->directAccess, $errorsList);
        }
    }
}
