<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\TenantLoginProviderPrivateKeyVO;

trait TenantLoginProviderPrivateKeyAttributeHolder
{
    protected TenantLoginProviderPrivateKeyVO|string|null $privateKey = null;
    protected bool $privateKeyAssigned = false;

    public function getPrivateKeyOrDefault(?TenantLoginProviderPrivateKeyVO $privateKey): TenantLoginProviderPrivateKeyVO|string|null
    {
        return $this->privateKeyAssigned ? ($this->privateKey !== null ? TenantLoginProviderPrivateKeyVO::from($this->privateKey) : null) : $privateKey;
    }
    public function privateKey(TenantLoginProviderPrivateKeyVO|string|null $privateKey): static
    {
        $this->privateKey = $privateKey;
        $this->privateKeyAssigned = true;
        return $this;
    }
    public function getPrivateKey(): ?string
    {
        return is_a($this->privateKey, TenantLoginProviderPrivateKeyVO::class) ? $this->privateKey->value() : $this->privateKey;
    }
    public function unsetPrivateKey(): static
    {
        $this->privateKey = null;
        $this->privateKeyAssigned = false;
        return $this;
    }
    protected function withDefaultPrivateKey(): void
    {
    }
    protected function withAssertedPrivateKeyRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->privateKeyAssigned = $this->privateKeyAssigned) {
            $value->privateKey = TenantLoginProviderPrivateKeyVO::tryFrom($this->privateKey, $errorsList);
        }
    }
}
