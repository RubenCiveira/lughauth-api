<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Access\TenantLoginProvider\Domain\ValueObject\TenantLoginProviderDisabledVO;

trait TenantLoginProviderDisabledAttributeHolder
{
    protected TenantLoginProviderDisabledVO|bool|null $disabled = null;
    protected bool $disabledAssigned = false;

    public function getDisabledOrDefault(?TenantLoginProviderDisabledVO $disabled): ?TenantLoginProviderDisabledVO
    {
        return $this->disabledAssigned ? ($this->disabled !== null ? TenantLoginProviderDisabledVO::from($this->disabled) : null) : $disabled;
    }
    public function disabled(TenantLoginProviderDisabledVO|bool|null $disabled): static
    {
        $this->disabled = $disabled;
        $this->disabledAssigned = true;
        return $this;
    }
    public function getDisabled(): ?bool
    {
        return is_a($this->disabled, TenantLoginProviderDisabledVO::class) ? $this->disabled->value() : $this->disabled;
    }
    public function unsetDisabled(): static
    {
        $this->disabled = null;
        $this->disabledAssigned = false;
        return $this;
    }
    protected function withDefaultDisabled(): void
    {
        if ($this->disabled === null) {
            $this->disabled = false;
        }
    }
    protected function withAssertedDisabledRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->disabledAssigned = $this->disabledAssigned) {
            $value->disabled = TenantLoginProviderDisabledVO::tryFrom($this->disabled, $errorsList);
        }
    }
}
