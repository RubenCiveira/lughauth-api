<?php

/* @autogenerated */
declare(strict_types=1);

namespace Civi\Lughauth\Features\Rbac\Acl\Domain;

class ResourceRules
{
    public function __construct(
        private string $name,
        private array $actions = [],
        private array $attributes = []
    ) {}

    public function getName(): string { return $this->name; }
    /** @return MatchRule[] */ public function getActions(): array { return $this->actions; }
    /** @return MatchRule[] */ public function getAttributes(): array { return $this->attributes; }

    public static function fromArray(string $name, array $data): self
    {
        return new self(
            $name,
            array_map(fn($r) => MatchRule::fromArray($r), $data['actions'] ?? []),
            array_map(fn($r) => MatchRule::fromArray($r), $data['attributes'] ?? [])
        );
    }
}
