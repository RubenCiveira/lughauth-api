<?php

/* @autogenerated */
declare(strict_types=1);

namespace Civi\Lughauth\Features\Oidc\Common\Infrastructure\Driver\Management;

use Override;
use Civi\Lughauth\Features\Oidc\Common\Application\Usecase\InstallUsecase;
use Civi\Lughauth\Shared\Infrastructure\Management\Migration\MigrationInterface;

class OidcMigrationProvider implements MigrationInterface
{
    public function __construct(
        private readonly InstallUsecase $installer
    ) {
    }
    #[Override]
    public function name(): string
    {
        return 'oidc-data';
    }

    #[Override]
    public function migrate(): array
    {
        $this->installer->install();
        return ['users' => true];
    }

    #[Override]
    public function status(): array
    {
        return ['users' => false];
    }
}
