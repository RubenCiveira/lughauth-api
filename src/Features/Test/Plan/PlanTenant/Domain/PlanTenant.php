<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain;

use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\PlanTenantUidVO;
use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\PlanTenantNameVO;
use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\Accesor\PlanTenantNameAccesor;
use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\PlanTenantVersionVO;
use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\Accesor\PlanTenantVersionAccesor;

class PlanTenant extends PlanTenantRef
{
    use PlanTenantNameAccesor;
    use PlanTenantVersionAccesor;
    private array $recordedEvents = [];

    public function __construct(
        PlanTenantUidVO|string $uid,
        PlanTenantNameVO|string $name,
        PlanTenantVersionVO|int|null $version = null,
    ) {
        parent::__construct($uid);
        $this->_name = PlanTenantNameVO::from($name);
        $this->_version = null === $version ? PlanTenantVersionVO::empty() : PlanTenantVersionVO::from($version);
    }
    public function replace(PlanTenantAttributes $values): PlanTenant
    {
        $value = clone $this;
        $value->_name = $values->getNameOrDefault($this->_name);
        $value->_version = $values->getVersionOrDefault($this->_version);
        return $value;
    }
    public static function calculatedFields(): array
    {
        return [];
    }
    public function asPublicJson(): array
    {
        $data = [];
        $data['uid'] = $this->uid();
        $data['name'] = $this->getName();
        $data['version'] = $this->getVersion();
        return $data;
    }
    public function toAttributes(): PlanTenantAttributes
    {
        return (new PlanTenantAttributes())
          ->uid($this->uid())
          ->name($this->_name)
          ->version($this->_version);
    }
    public function getTheEvents(): array
    {
        return [...$this->recordedEvents];
    }
}
