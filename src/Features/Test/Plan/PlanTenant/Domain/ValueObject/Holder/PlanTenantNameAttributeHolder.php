<?php

# @autogenerated
declare(strict_types=1);

namespace Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\Holder;

use Civi\Lughauth\Shared\Value\Validation\ConstraintFailList;
use Civi\Lughauth\Features\Test\Plan\PlanTenant\Domain\ValueObject\PlanTenantNameVO;

trait PlanTenantNameAttributeHolder
{
    protected PlanTenantNameVO|string|null $name = null;
    protected bool $nameAssigned = false;

    public function getNameOrDefault(?PlanTenantNameVO $name): ?PlanTenantNameVO
    {
        return $this->nameAssigned ? ($this->name !== null ? PlanTenantNameVO::from($this->name) : null) : $name;
    }
    public function name(PlanTenantNameVO|string|null $name): static
    {
        $this->name = $name;
        $this->nameAssigned = true;
        return $this;
    }
    public function getName(): ?string
    {
        return is_a($this->name, PlanTenantNameVO::class) ? $this->name->value() : $this->name;
    }
    public function unsetName(): static
    {
        $this->name = null;
        $this->nameAssigned = false;
        return $this;
    }
    protected function withDefaultName(): void
    {
    }
    protected function withAssertedNameRules(self $value, ConstraintFailList $errorsList): void
    {
        if ($value->nameAssigned = $this->nameAssigned) {
            $value->name = PlanTenantNameVO::tryFrom($this->name, $errorsList);
        }
    }
}
