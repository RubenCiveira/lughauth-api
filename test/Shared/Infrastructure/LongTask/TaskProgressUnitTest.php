<?php

/* @autogenerated */
declare(strict_types=1);

use PHPUnit\Framework\TestCase;
use Civi\Lughauth\Shared\Infrastructure\LongTask\TaskProgress;
use Civi\Lughauth\Shared\Infrastructure\LongTask\TaskKey;

/**
 * Unit tests for {@see TaskProgress}.
 */
final class TaskProgressUnitTest extends TestCase
{
    /**
     * Ensures task progress keeps the provided details.
     */
    public function testProgressStoresValues(): void
    {
        /* Arrange: create task progress values and a key. */
        $key = new TaskKey('task-2');
        $start = new DateTimeImmutable('2024-01-01 00:00:00');
        $end = new DateTimeImmutable('2024-01-01 01:00:00');
        $steps = [];

        /* Act: create the task progress object. */
        $progress = new TaskProgress($key, 'FINISHED', $start, $end, $steps);

        /* Assert: verify the task progress values are preserved. */
        $this->assertSame($key, $progress->key);
        $this->assertSame('FINISHED', $progress->status);
        $this->assertSame($start, $progress->startTime);
        $this->assertSame($end, $progress->endTime);
        $this->assertSame($steps, $progress->steps);
    }
}
